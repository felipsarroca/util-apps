<!DOCTYPE html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ruleta interactiva</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Nunito:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="top-bar">
        <div class="headline">
          <img src="./ruleta.svg" alt="Icona de la ruleta" class="headline-icon" />
          <div class="headline-text">
            <h1>Ruleta interactiva</h1>
            <p>
              Introdueix els elements que vulguis al llistat, actualitza la ruleta i fes-la girar per obtenir un resultat aleatori.
            </p>
          </div>
        </div>
        <div class="status-chip" id="statusChip">Preparada</div>
      </header>

      <main class="layout">
        <section class="wheel-panel">
          <div class="wheel-wrapper">
            <canvas id="wheelCanvas" width="700" height="700" aria-label="Ruleta de selecci&oacute;"></canvas>
            <div class="wheel-pointer" aria-hidden="true"></div>
          </div>
          <button id="spinButton" class="spin-button" type="button">
            Gira la ruleta
          </button>
        </section>

        <section class="controls-panel">
          <div class="panel-heading">
            <h2>Llista d'elements</h2>
            <button id="updateButton" type="button" class="primary">
              Actualitza la ruleta
            </button>
          </div>
          <textarea
            id="entriesInput"
            placeholder="Escriu un element per l&iacute;nia&#10;Exemple:&#10;Maria&#10;Joan&#10;Arnau&#10;Projecte A"
          ></textarea>
          <div class="options">
            <label class="option-toggle">
              <input type="checkbox" id="noRepeatToggle" />
              <span class="slider"></span>
              <span class="label-text">Mode sense repeticions</span>
            </label>
            <button id="restoreButton" type="button" class="ghost">
              Recupera llista inicial
            </button>
          </div>
          <div class="controls-actions">
            <button id="removeButton" type="button" class="secondary" disabled>
              Elimina el resultat
            </button>
            <button id="resetButton" type="button" class="ghost" disabled>
              Reinicia la llista
            </button>
          </div>
          <p id="resultText" class="info-message">Prem el bot&oacute; per fer el primer gir.</p>
        </section>
      </main>

      <footer class="app-footer">
        <img src="./CC_BY-NC-SA.svg" alt="LlicÃ¨ncia Creative Commons BY-NC-SA" />
        <div>
          <p>AplicaciÃ³ creada per Felip Sarroca amb l'assistÃ¨ncia de la IA</p>
          <p>
            Obra sota llicÃ¨ncia
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ca" target="_blank" rel="noreferrer">
              CC BY-NC-SA 4.0
            </a>
          </p>
        </div>
      </footer>
    </div>

    <div class="winner-popup" id="winnerPopup" role="alert" aria-live="assertive">
      <div class="popup-content">
        <div class="confetti" aria-hidden="true">
          <span>ðŸŽŠ</span>
          <span>âœ¨</span>
          <span>ðŸŽˆ</span>
          <span>ðŸŽ‰</span>
          <span>ðŸ¥³</span>
        </div>
        <div class="popup-icon" aria-hidden="true">ðŸŽ‰</div>
        <p class="popup-name" id="winnerName">â€”</p>
      </div>
    </div>

    <audio id="rouletteAudio" src="./ruleta.mp3" preload="auto"></audio>
    <script src="./script.js" type="module"></script>
  </body>
</html>
